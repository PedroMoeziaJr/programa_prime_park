<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="/static/style.css">
    <meta charset="utf-8">
</head>
<body>
    <div class="screen admin-screen">
        <h1>Relatório do Pátio</h1>
        <p>Digite a senha do operador.</p>

        {% if erro %}
            <p class="erro">{{ erro }}</p>
        {% endif %}

        <form method="POST" action="/admin_login">
            <input type="password" name="senha" id="senha" maxlength="8" readonly class="password-input">

            <div class="password-keyboard">
                <button type="button" class="password-key">1</button>
                <button type="button" class="password-key">2</button>
                <button type="button" class="password-key">3</button>
                <button type="button" class="password-key">4</button>
                <button type="button" class="password-key">5</button>
                <button type="button" class="password-key">6</button>
                <button type="button" class="password-key">7</button>
                <button type="button" class="password-key">8</button>
                <button type="button" class="password-key">9</button>
                <button type="button" class="password-key">0</button>
            </div>

            <button type="submit" class="btn-main" style="margin-top:20px;">ENTRAR</button>
        </form>

        <a href="/"><button class="btn-back">VOLTAR</button></a>
    </div>

    <script>
        let input = document.getElementById("senha");
        const keys = document.querySelectorAll(".password-key");

        keys.forEach(k => {
            k.addEventListener("click", () => {
                if (input.value.length < 8) {
                    input.value += k.textContent;
                }
            });
        });

        setTimeout(() => {
            window.location.href = "/";
        }, 30000);
    </script>
</body>
</html>
